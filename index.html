<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<title>Yokoso!!</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap" rel="stylesheet">
<!-- Crimson Text font for improved typography -->
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet">
<style>
:root{
  --accent: #3b82f6;
  --accent-light: #60a5fa;
  --accent-dark: #1d4ed8;
  --glass: rgba(255,255,255,0.25);
  --glass-border: rgba(255,255,255,0.12);
  --text-primary: #ffffff;
  --text-secondary: #e5e7eb;
  --text-muted: #9ca3af;
  --surface: rgba(17, 24, 39, 0.6);
  --surface-elevated: rgba(31, 41, 55, 0.8);
  --shadow-soft: 0 4px 32px rgba(0, 0, 0, 0.15);
  --shadow-medium: 0 10px 60px rgba(0, 0, 0, 0.25);
  --border-radius: 16px;
  --border-radius-lg: 24px;
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --card-blur: 24px;
  --bg: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  height: 100%;
  overflow-x: hidden;
  scroll-behavior: smooth;
}

body {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  color: var(--text-primary);
  background: var(--bg);
  position: relative;
  line-height: 1.6;
  font-weight: 400;
}

.bg-ambient {
  position: fixed;
  inset: 0;
  z-index: 1;
  background: var(--bg);
}

.canvasWrap {
  position: fixed;
  inset: 0;
  z-index: 2;
  pointer-events: none;
}

canvas {
  display: block;
}

.container {
  position: relative;
  z-index: 3;
  padding: 2rem;
  min-height: 100vh;
  max-width: 1400px;
  margin: 0 auto;
}

/* Header Section */
.header-section {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 2rem;
  align-items: start;
  margin-bottom: 2rem;
}

.greeting-content {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: var(--glass);
  backdrop-filter: blur(var(--card-blur));
  border: 1px solid var(--glass-border);
  border-radius: 50px;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 600;
  width: fit-content;
  margin-bottom: 0.75rem;
  transition: var(--transition);
}

.status-badge:hover {
  background: rgba(255,255,255,0.12);
  transform: translateY(-2px);
}

.status-indicator {
  width: 8px;
  height: 8px;
  background: #10b981;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.greeting-text {
  font-family: 'Crimson Text', serif;
  font-size: clamp(2.4rem, 5.5vw, 4rem);
  font-weight: 700;
  line-height: 1.1;
  background: linear-gradient(135deg, var(--text-primary), var(--accent-light));
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 0.25rem;
  letter-spacing: 0.5px;
}

.greeting-subtitle {
  font-size: 1.05rem;
  color: var(--text-secondary);
  font-weight: 400;
}

.season-toggle {
  background: var(--surface-elevated);
  backdrop-filter: blur(var(--card-blur));
  border: 1px solid var(--glass-border);
  border-radius: 999px;
  padding: 1rem;
  cursor: pointer;
  font-size: 1.35rem;
  transition: var(--transition);
  box-shadow: var(--shadow-soft);
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 68px;
  min-height: 68px;
}

.season-toggle:hover {
  transform: translateY(-4px) scale(1.04);
  box-shadow: var(--shadow-medium);
  background: rgba(59, 130, 246, 0.1);
}

/* Main Content Grid */
.main-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-bottom: 2rem;
}

/* Cards */
.card {
  background: var(--surface-elevated);
  backdrop-filter: blur(var(--card-blur));
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius-lg);
  padding: 1.75rem;
  box-shadow: var(--shadow-soft);
  transition: var(--transition);
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-medium);
}

.time-display {
  font-family: 'JetBrains Mono', monospace;
  font-size: 3rem;
  font-weight: 600;
  color: var(--accent-light);
  text-align: center;
  margin-bottom: 0.75rem;
  letter-spacing: 0.04em;
}

.date-display {
  text-align: center;
  color: var(--text-secondary);
  font-size: 0.98rem;
  margin-bottom: 0.4rem;
}

.season-display {
  text-align: center;
  color: var(--accent-light);
  font-size: 0.85rem;
  font-weight: 600;
  text-transform: capitalize;
  background: rgba(0, 0, 0, 0.35);
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  border: 1px solid var(--glass-border);
  display: inline-block;
  margin: 0 auto;
}

/* Analog Clock */
.clock-card {
  display: flex;
  align-items: center;
  justify-content: center;
}

.analog-clock {
  width: 210px;
  height: 210px;
  position: relative;
  background: var(--clock-bg);
  border-radius: 50%;
  box-shadow: var(--clock-shadow);
  display: flex;
  align-items: center;
  justify-content: center;
}

.clock-face {
  width: 180px;
  height: 180px;
  border-radius: 50%;
  background: var(--clock-face);
  position: relative;
  box-shadow: inset 0 4px 20px rgba(0, 0, 0, 0.12);
}

.clock-markers {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
}

.clock-marker {
  position: absolute;
  background: var(--text-muted);
  left: 50%;
  top: 0;
  transform-origin: 50% 90px;
}

.clock-marker.hour {
  width: 3px;
  height: 20px;
  margin-left: -1.5px;
  background: var(--accent);
}

.clock-marker.minute {
  width: 1px;
  height: 10px;
  margin-left: -0.5px;
}

.clock-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 12px;
  height: 12px;
  background: var(--accent);
  border-radius: 50%;
  z-index: 5;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.hour-hand, .minute-hand, .second-hand {
  position: absolute;
  background: var(--text-primary);
  border-radius: 4px;
  transform-origin: bottom center;
  top: 50%;
  left: 50%;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.hour-hand {
  width: 6px;
  height: 52px;
  margin-left: -3px;
  margin-top: -52px;
  background: var(--accent);
}

.minute-hand {
  width: 4px;
  height: 72px;
  margin-left: -2px;
  margin-top: -72px;
}

.second-hand {
  width: 2px;
  height: 84px;
  margin-left: -1px;
  margin-top: -84px;
  background: #ef4444;
  transition: transform 0.1s ease-out;
}

/* Quotes Section */
.quotes-section .quotes-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.25rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--glass-border);
}

.quotes-icon {
  width: 48px;
  height: 48px;
  background: linear-gradient(135deg, var(--accent), var(--accent-light));
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
}

.quotes-title {
  font-size: 1.2rem;
  font-weight: 700;
}

.quotes-subtitle {
  font-size: 0.85rem;
  color: gba(255, 255, 255, 0.85);
}

.quotes-container {
  display: flex;
  flex-direction: column;
  gap: 0.9rem;
}

.quote-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: var(--glass);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius);
  transition: var(--transition);
  cursor: pointer;
}

.quote-item:hover {
  background: rgba(59, 130, 246, 0.08);
  border-color: var(--accent);
  transform: translateX(6px);
}

.quote-image {
  width: 56px;
  height: 56px;
  border-radius: 12px;
  background: var(--glass);
  border: 1px solid var(--glass-border);
  flex-shrink: 0;
  background-size: cover;
  background-position: center;
  box-shadow: var(--shadow-soft);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}

.quote-card {
  flex: 1;
  font-size: 0.98rem;
  line-height: 1.55;
  color: var(--text-secondary);
}

.quote-meta {
  font-size: 0.8rem;
  color: var(--text-muted);
}

/* NEW: Seasonal Selector (replaces wheel) */
.season-selector-container {
  display: flex;
  justify-content: center;
  margin: 2rem 0;
}

.season-selector {
  display: flex;
  background: var(--surface-elevated);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
  border-radius: 50px;
  padding: 0.5rem;
  box-shadow: var(--shadow-soft);
}

.season-option {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  margin: 0 0.25rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.season-option:hover {
  transform: scale(1.1);
}

.season-option.active {
  box-shadow: 0 0 0 2px var(--accent);
  transform: scale(1.15);
}

.season-icon {
  width: 30px;
  height: 30px;
  object-fit: contain;
}

.season-emoji {
  font-size: 1.5rem;
  display: none;
}

/* If image fails to load, show emoji */
.season-option img.error + .season-emoji {
  display: block;
}

/* Enhanced glassmorphism */
.glass-panel {
  background: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(0, 0, 0, 0.4);
  border-radius: var(--border-radius-lg);
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.1),
    inset 0 1px 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition);
}

.glass-panel:hover {
  background: rgba(255, 255, 255, 0.15);
  box-shadow: 
    0 12px 40px rgba(0, 0, 0, 0.2),
    inset 0 1px 1px rgba(255, 255, 255, 0.15);
  transform: translateY(-4px);
}

/* Glow effects */
.glow-effect {
  position: relative;
}

.glow-effect::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  box-shadow: 0 0 20px 5px var(--accent-glow);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: -1;
}

.glow-effect:hover::after {
  opacity: 0.5;
}

/* Settings Drawer */
.settings-toggle {
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: 4;
  background: var(--surface-elevated);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(16px);
  border-radius: 999px;
  width: 58px;
  height: 58px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: var(--shadow-soft);
  transition: var(--transition);
}

.settings-toggle:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-medium);
}

.settings {
  position: fixed;
  right: 18px;
  bottom: 88px;
  z-index: 4;
  min-width: 280px;
  background: var(--surface-elevated);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(20px);
  border-radius: 18px;
  padding: 14px;
  box-shadow: var(--shadow-medium);
  display: none;
}

.settings.open {
  display: block;
}

.settings h3 {
  font-size: 1.05rem;
  margin-bottom: 0.35rem;
}

.settings .row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 0.4rem 0;
}

.settings input[type="text"] {
  width: 60%;
  padding: 0.5rem 0.6rem;
  border-radius: 10px;
  border: 1px solid var(--glass-border);
  background: rgba(255, 255, 255, 0.06);
  color: var(--text-primary);
}

.settings label {
  font-size: 0.92rem;
  color: var(--text-secondary);
}

.settings small {
  display: block;
  color: var(--text-muted);
  margin-top: 0.25rem;
  font-size: 0.8rem;
}

/* Modern slider switch */
.switch {
  position: relative;
  display: inline-block;
  width: 46px;
  height: 24px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  inset: 0;
  background-color: rgba(255, 255, 255, 0.25);
  border-radius: 34px;
  transition: 0.3s;
  backdrop-filter: blur(6px);
  border: 1px solid var(--glass-border);
}

.slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  top: 50%;
  transform: translateY(-50%);
  background-color: white;
  border-radius: 50%;
  transition: 0.3s;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}

/* Checked state */
.switch input:checked + .slider {
  background-color: var(--accent-light);
  border-color: var(--accent);
}

.switch input:checked + .slider:before {
  transform: translate(22px, -50%);
  background-color: white;
}

/* Footer */
.footer {
  text-align: center;
  padding: 1.4rem 0;
  color: var(--text-muted);
  font-size: 0.88rem;
  border-top: 1px solid var(--glass-border);
  margin-top: 2rem;
}

.footer-content {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
}

.heart {
  color: #ef4444;
  animation: heartbeat 1.5s ease-in-out infinite;
}

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.08); }
}

/* Season Themes*/
.summer {
  --bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --accent: #f59e0b;
  --accent-light: #fbbf24;
  --accent-dark: #d97706;
  --accent-glow: rgba(245, 158, 11, 0.5);
  --clock-bg: linear-gradient(135deg, #fff7ed, #fed7aa);
  --clock-face: linear-gradient(135deg, #fffbf0, #fef3c7);
  --clock-shadow: 0 12px 40px rgba(245, 158, 11, 0.2);
}

.winter {
  --bg: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #90caf9 100%);
  --accent: #00b894;
  --accent-light: #00cec9;
  --accent-dark: #00a085;
  --accent-glow: rgba(0, 184, 148, 0.5);
  --clock-bg: linear-gradient(135deg, #f0f9ff, #e0f2fe);
  --clock-face: linear-gradient(135deg, #f8fafc, #f1f5f9);
  --clock-shadow: 0 12px 40px rgba(0, 184, 148, 0.2);
}

.monsoon {
  --bg: linear-gradient(135deg, #0d47a1 0%, #1565c0 50%, #1e88e5 100%);
  --accent: #3742fa;
  --accent-light: #5352ed;
  --accent-dark: #0984e3;
  --accent-glow: rgba(55, 66, 250, 0.5);
  --clock-bg: linear-gradient(135deg, #e0f2fe, #cfe9ff);
  --clock-face: linear-gradient(135deg, #f1f5f9, #e8f1fb);
  --clock-shadow: 0 12px 40px rgba(55, 66, 250, 0.2);
}

.spring {
  --bg: linear-gradient(45deg, #e0f5e9 0%, #b0e2c2 40%, #81c784 100%);
  --accent: #e17055;
  --accent-light: #ff9671;
  --accent-dark: #56ab2f;
  --accent-glow: rgba(225, 112, 85, 0.5);
  --clock-bg: linear-gradient(135deg, #fff7fa, #ffe4ec);
  --clock-face: linear-gradient(135deg, #fffafb, #ffeef3);
  --clock-shadow: 0 12px 40px rgba(225, 112, 85, 0.25);
}

.autumn {
  --bg: linear-gradient(135deg, #2d3436 0%, #636e72 100%);
  --accent: #e17055;
  --accent-light: #fd79a8;
  --accent-dark: #b45309;
  --accent-glow: rgba(225, 112, 85, 0.5);
  --clock-bg: linear-gradient(135deg, #451a03, #7c2d12);
  --clock-face: linear-gradient(135deg, #78350f, #92400e);
  --clock-shadow: 0 12px 40px rgba(225, 112, 85, 0.3);
}

.prewinter {
  --bg: linear-gradient(135deg, #90a4ae 0%, #78909c 50%, #546e7a 100%);
  --accent: #00b894;
  --accent-light: #00cec9;
  --accent-dark: #00a085;
  --accent-glow: rgba(0, 184, 148, 0.5);
  --clock-bg: linear-gradient(135deg, #f0fdfa, #ccfbf1);
  --clock-face: linear-gradient(135deg, #f7fefc, #f0fdf4);
  --clock-shadow: 0 12px 40px rgba(0, 184, 148, 0.2);
}

/* Responsive Design */
@media (max-width: 1024px) {
  .container {
    padding: 1.5rem;
  }
  
  .main-content {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .time-display {
    font-size: 2.5rem;
  }
  
  .analog-clock {
    width: 160px;
    height: 160px;
  }
  
  .clock-face {
    width: 140px;
    height: 140px;
  }
  
  .clock-marker {
    transform-origin: 50% 70px;
  }
  
  .season-selector {
    flex-wrap: wrap;
    justify-content: center;
    border-radius: 16px;
  }
  
  .season-option {
    margin: 0.2rem;
  }
}

@media (max-width: 768px) {
  .header-section {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .season-toggle {
    align-self: center;
    min-width: 60px;
    min-height: 60px;
    padding: 0.75rem;
    font-size: 1.5rem;
  }
  
  .greeting-text {
    font-size: 2.5rem;
  }
  
  .card {
    padding: 1.5rem;
  }
  
  .time-display {
    font-size: 2rem;
  }
  
  .analog-clock {
    width: 140px;
    height: 140px;
  }
  
  .clock-face {
    width: 120px;
    height: 120px;
  }
  
  .quote-item {
    flex-direction: column;
    text-align: center;
    gap: 0.75rem;
  }
  
  .quote-item:hover {
    transform: translateY(-4px);
  }
  
  .clock-marker {
    transform-origin: 50% 60px;
  }
}

@media (max-width: 480px) {
  .container {
    padding: 1rem;
  }
  
  .greeting-text {
    font-size: 2rem;
  }
  
  .time-display {
    font-size: 1.75rem;
  }
  
  .quotes-container {
    gap: 0.75rem;
  }
  
  .quote-card {
    font-size: 0.875rem;
  }
  
  .season-option {
    width: 40px;
    height: 40px;
  }
  
  .season-icon {
    width: 24px;
    height: 24px;
  }
  
  .season-emoji {
    font-size: 1.2rem;
  }
}
</style>
</head>
<body class="prewinter">
  <div class="bg-ambient"></div>
  <div class="canvasWrap"><canvas id="particles"></canvas></div>

  <div class="container">
    <header class="header-section">
      <div class="greeting-content">
        <div class="status-badge">
          <div class="status-indicator"></div>
          <span>ONLINE</span>
        </div>
        <h1 class="greeting-text" id="greeting">Good Night</h1>
        <p class="greeting-subtitle" id="greetingSubtitle">Time to rest and recharge for tomorrow</p>
      </div>
      <div class="season-toggle" id="seasonBtn">☃</div>
    </header>

    <!-- NEW: Seasonal Selector -->
    <div class="season-selector-container">
      <div class="season-selector">
        <div class="season-option" data-season="spring">
          <img class="season-icon" src="spring.png" alt="Spring" onerror="this.classList.add('error')">
          <span class="season-emoji">🌸</span>
        </div>
        <div class="season-option" data-season="summer">
          <img class="season-icon" src="summer.png" alt="Summer" onerror="this.classList.add('error')">
          <span class="season-emoji">☀️</span>
        </div>
        <div class="season-option" data-season="monsoon">
          <img class="season-icon" src="monsoon.png" alt="Monsoon" onerror="this.classList.add('error')">
          <span class="season-emoji">🌧️</span>
        </div>
        <div class="season-option" data-season="autumn">
          <img class="season-icon" src="autumn.png" alt="Autumn" onerror="this.classList.add('error')">
          <span class="season-emoji">🍂</span>
        </div>
        <div class="season-option" data-season="prewinter">
          <img class="season-icon" src="prewinter.png" alt="Prewinter" onerror="this.classList.add('error')">
          <span class="season-emoji">❄️</span>
        </div>
        <div class="season-option" data-season="winter">
          <img class="season-icon" src="winter.png" alt="Winter" onerror="this.classList.add('error')">
          <span class="season-emoji">⛄</span>
        </div>
      </div>
    </div>

    <main class="main-content">
      <div class="card time-card glass-panel glow-effect">
        <div class="time-display" id="time">00:30:41</div>
        <div class="date-display" id="date">Friday, August 15, 2025</div>
        <div class="season-display" id="seasonName">Pre-Winter</div>
      </div>

      <div class="card clock-card glass-panel glow-effect">
        <div class="analog-clock" id="analogClock">
          <div class="clock-face">
            <div class="clock-markers" id="clockMarkers"></div>
            <div class="hour-hand" id="hourHand"></div>
            <div class="minute-hand" id="minuteHand"></div>
            <div class="second-hand" id="secondHand"></div>
            <div class="clock-center"></div>
          </div>
        </div>
      </div>
    </main>

    <section class="card quotes-section glass-panel">
      <div class="quotes-header">
        <div class="quotes-icon">💭</div>
        <div>
          <div class="quotes-title">Mindful Moments...</div>
          <div class="quotes-subtitle">Fresh quotes, advice, and tidbits... no tracking, no drama.</div>
        </div>
      </div>
      <div class="quotes-container" id="quotesContainer">
        <div class="quote-item"><div class="quote-image" style="background-image: url(&quot;anim1.gif&quot;); background-size: cover; background-position: center center;"></div><div class="quote-card">Status: ALIVE !!</div></div>
        <div class="quote-item"><div class="quote-image" style="background-image: url(&quot;anim2.gif&quot;); background-size: cover; background-position: center center;"></div><div class="quote-card">Be the plot twist your life didn't see coming.</div></div>
        <div class="quote-item"><div class="quote-image" style="background-image: url(&quot;anim3.gif&quot;); background-size: cover; background-position: center center;"></div><div class="quote-card">One small positive thought can change your whole day.</div></div>
        <div class="quote-item"><div class="quote-image" style="background-image: url(&quot;anim4.gif&quot;); background-size: cover; background-position: center center;"></div><div class="quote-card">Progress, not perfection.</div></div>
        <div class="quote-item"><div class="quote-image" style="background-image: url(&quot;anim5.gif&quot;); background-size: cover; background-position: center center;"></div><div class="quote-card">You've survived 100% of your good days so far.</div></div>
        <div class="quote-item"><div class="quote-image" style="background-image: url(&quot;anim6.gif&quot;); background-size: cover; background-position: center center;"></div><div class="quote-card">You don't need more time, you need less excuses</div></div>
        <div class="quote-item"><div class="quote-image" style="background-image: url(&quot;anim7.gif&quot;); background-size: cover; background-position: center center;"></div><div class="quote-card">Kindness is free....sprinkle it everywhere. Have a nice day</div></div>
      </div>
    </section>

    <footer class="footer">
      <div class="footer-content">
        <span>Crafted with</span>
        <span class="heart">♥</span>
        <span>by Div</span>
      </div>
    </footer>
  </div>

  <!-- NEW: Settings Panel -->
  <button class="settings-toggle" id="settingsToggle" aria-label="Open Settings">
    <img src="gear.gif" alt="Settings" style="width: 28px; height: 28px;">
  </button>
  <div class="settings glass-panel" id="settingsPanel" role="dialog" aria-modal="true" aria-label="Settings">
    <h3>Settings</h3>
    <div class="row">
      <label for="nameInput">Your name</label>
      <input id="nameInput" type="text" placeholder="Div"/>
    </div>
    <div class="row">
      <label for="particlesToggle">Particles</label>
      <label class="switch">
        <input id="particlesToggle" type="checkbox" checked />
        <span class="slider"></span>
      </label>
    </div>
    
    <div class="row">
      <label for="soundToggle">Clock tick sound</label>
      <label class="switch">
        <input id="soundToggle" type="checkbox" />
        <span class="slider"></span>
      </label>
    </div>
    <small>All preferences are stored locally in your browser.</small>
  </div>

<script>
// ===============================
// UTILITIES & INITIALIZATION
// ===============================
const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
const $ = (id) => document.getElementById(id);

// DOM Elements
const timeEl = $('time'), dateEl = $('date'), greetingEl = $('greeting'), greetingSubtitleEl = $('greetingSubtitle');
const seasonBtn = $('seasonBtn'), seasonNameEl = $('seasonName'), quotesContainer = $('quotesContainer');
const hourHand = $('hourHand'), minuteHand = $('minuteHand'), secondHand = $('secondHand'), clockMarkers = $('clockMarkers');
const settingsToggle = $('settingsToggle'), settingsPanel = $('settingsPanel');
const nameInput = $('nameInput'), particlesToggle = $('particlesToggle'), soundToggle = $('soundToggle');

// Canvas setup
const canvas = $('particles');
const ctx = canvas.getContext('2d', { alpha: true });
let DPR = 1, logicalW = 1, logicalH = 1;

// Season definitions
const SEASONS = ['spring', 'summer', 'monsoon', 'autumn', 'winter', 'prewinter'];
const SEASON_LABELS = {
  spring: 'Spring', 
  summer: 'Summer', 
  monsoon: 'Monsoon', 
  autumn: 'Autumn', 
  winter: 'Winter', 
  prewinter: 'Pre-Winter'
};

// ===============================
// CLOCK & GREETING FUNCTIONS
// ===============================
function formatClock(d) {
  return d.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
}

function formatDate(d) {
  return d.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
}

let tickAudio;
function initTickSound() {
  if (tickAudio) return;
  const ctxA = new (window.AudioContext || window.webkitAudioContext)();
  tickAudio = () => {
    const o = ctxA.createOscillator(), g = ctxA.createGain();
    o.type = 'square'; 
    o.frequency.value = 850;
    g.gain.value = 0.0015;
    o.connect(g); 
    g.connect(ctxA.destination);
    o.start(); 
    setTimeout(() => { o.stop() }, 30);
  };
}

function updateClock() {
  const now = new Date();
  timeEl.textContent = formatClock(now);
  dateEl.textContent = formatDate(now);

  const hours = now.getHours() % 12;
  const minutes = now.getMinutes();
  const seconds = now.getSeconds();
  
  const hourAngle = (hours * 30) + (minutes * 0.5);
  const minuteAngle = minutes * 6;
  const secondAngle = seconds * 6;
  
  hourHand.style.transform = `rotate(${hourAngle}deg)`;
  minuteHand.style.transform = `rotate(${minuteAngle}deg)`;
  secondHand.style.transform = `rotate(${secondAngle}deg)`;
  
  const h = now.getHours();
  const name = localStorage.getItem('greet_name') || 'Friend';
  let greeting, subtitle;
  
  if (h >= 0 && h < 4) {
    greeting = `Good Night, ${name}...`;
    subtitle = 'Time to rest and recharge for tomorrow';
  } else if (h >= 4 && h < 12) {
    greeting = `Good Morning, ${name}...`;
    subtitle = 'Hope you have a productive day ahead!';
  } else if (h >= 12 && h < 16) {
    greeting = `Good Afternoon, ${name}...`;
    subtitle = 'Keep up the great work today!';
  } else {
    greeting = `Good Evening, ${name}...`;
    subtitle = 'Time to unwind and reflect on today';
  }
  
  greetingEl.textContent = greeting;
  greetingSubtitleEl.textContent = subtitle;

  if (soundToggle.checked && !prefersReduced) {
    try {
      initTickSound();
      tickAudio();
    } catch (e) {}
  }
}

function createClockMarkers() {
  clockMarkers.innerHTML = '';
  for (let i = 0; i < 60; i++) {
    const marker = document.createElement('div');
    marker.className = `clock-marker ${i % 5 === 0 ? 'hour' : 'minute'}`;
    marker.style.transform = `rotate(${i * 6}deg)`;
    clockMarkers.appendChild(marker);
  }
}

createClockMarkers();
updateClock();
if (!prefersReduced) setInterval(updateClock, 1000);

// ===============================
// CANVAS & PARTICLE SYSTEM
// ===============================
function resizeCanvas() {
  DPR = Math.max(1, window.devicePixelRatio || 1);
  logicalW = Math.max(1, Math.floor(window.innerWidth));
  logicalH = Math.max(1, Math.floor(window.innerHeight));
  canvas.width = Math.max(1, Math.floor(logicalW * DPR));
  canvas.height = Math.max(1, Math.floor(logicalH * DPR));
  canvas.style.width = logicalW + 'px';
  canvas.style.height = logicalH + 'px';
  ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
}

resizeCanvas();

let _resizeTimer = null;
window.addEventListener('resize', () => {
  if (_resizeTimer) clearTimeout(_resizeTimer);
  _resizeTimer = setTimeout(() => {
    resizeCanvas();
    if (window.Particle && window.Particle.reflow) window.Particle.reflow();
  }, 120);
});

// Mouse interaction for particles
const mouse = { x: 0, y: 0, vx: 0, vy: 0, down: false };
window.addEventListener('mousemove', (e) => {
  const px = mouse.x, py = mouse.y;
  mouse.x = e.clientX;
  mouse.y = e.clientY;
  mouse.vx = mouse.x - px;
  mouse.vy = mouse.y - py;
});
window.addEventListener('mousedown', () => mouse.down = true);
window.addEventListener('mouseup', () => mouse.down = false);

function createParticleEngine(initialMode) {
  let parts = [], ripples = [], flares = [];
  let running = true, mode = initialMode || 'prewinter', last = performance.now();
  let rafId = null;
  const maxCounts = { spring: 110, summer: 100, monsoon: 140, autumn: 120, winter: 90, prewinter: 90 };
  const images = { leaf1: null, leaf2: null };

  function loadImg(src) {
    return new Promise(res => {
      const i = new Image();
      i.onload = () => res(i);
      i.onerror = () => res(null);
      i.src = src;
    });
  }

  // Preload optional assets
  loadImg('leaf1.png').then(img => images.leaf1 = img);
  loadImg('leaf2.png').then(img => images.leaf2 = img);

  function rnd(a, b) { return Math.random() * (b - a) + a; }
  function clamp(v, a, b) { return Math.max(a, Math.min(b, v)); }

  function newParticle() {
    const p = {
      x: rnd(0, logicalW), y: rnd(-60, logicalH + 60), vx: 0, vy: 0, r: 1,
      ang: rnd(0, Math.PI * 2), spin: rnd(-0.05, 0.05), type: 'dot', alpha: 1,
      color: '#fff', z: rnd(0.4, 1.2)
    };

    if (mode === 'spring') {
      p.type = 'petal';
      p.r = rnd(3.5, 7.5);
      p.vx = rnd(-0.28, 0.35);
      p.vy = rnd(0.18, 0.55);
      p.color = 'rgba(255,140,170,0.96)';
      p.spin = rnd(-0.06, 0.06);
    } else if (mode === 'summer') {
      p.type = Math.random() < 0.12 ? 'leaf' : 'dust';
      if (p.type === 'dust') {
        p.r = rnd(0.8, 2.8);
        p.vx = rnd(0.05, 0.45);
        p.vy = rnd(-0.02, 0.18);
        p.color = 'rgba(255,205,110,0.9)';
        p.alpha = rnd(0.35, 0.9);
      } else {
        p.r = rnd(6, 12);
        p.vx = rnd(0.1, 0.6);
        p.vy = rnd(0.05, 0.25);
        p.color = 'rgba(255,180,90,0.95)';
        p.spin = rnd(-0.2, 0.2);
      }
    } else if (mode === 'monsoon') {
      p.type = 'rain';
      p.r = rnd(1.0, 1.6);
      p.vx = rnd(-0.25, 0.2);
      p.vy = rnd(0.65, 1.4);
      p.color = 'rgba(170,210,240,0.98)';
    } else if (mode === 'autumn') {
      p.type = 'leaf';
      p.r = rnd(6, 13);
      p.vx = rnd(-0.6, 0.45);
      p.vy = rnd(0.25, 0.7);
      p.color = 'rgba(255,170,80,0.98)';
      p.spin = rnd(-0.3, 0.3);
    } else if (mode === 'prewinter') {
      p.type = Math.random() < 0.25 ? 'mist' : 'dewdrop';
      if (p.type === 'mist') {
        p.r = rnd(60, 140);
        p.vx = rnd(0.02, 0.12);
        p.vy = rnd(-0.02, 0.04);
        p.alpha = rnd(0.05, 0.12);
      } else {
        p.r = rnd(1.4, 3.6);
        p.vx = rnd(-0.2, 0.2);
        p.vy = rnd(0.08, 0.35);
        p.color = 'rgba(220,240,255,0.96)';
      }
    } else {
      p.type = Math.random() < 0.12 ? 'ember' : 'snow';
      if (p.type === 'snow') {
        p.r = rnd(1.4, 3.8);
        p.vx = rnd(-0.2, 0.2);
        p.vy = rnd(0.08, 0.32);
        p.color = 'rgba(240,248,255,0.96)';
      } else {
        p.r = rnd(1.2, 2.4);
        p.vx = rnd(-0.05, 0.05);
        p.vy = rnd(-0.06, -0.02);
        p.color = 'rgba(255,120,60,0.9)';
      }
    }
    return p;
  }

  function init(count) {
    parts = [];
    for (let i = 0; i < count; i++) parts.push(newParticle());
  }

  function reflow() {
    for (let p of parts) {
      p.x = clamp(p.x / logicalW * logicalW, 0, logicalW);
      p.y = clamp(p.y / logicalH * logicalH, -50, logicalH + 50);
    }
  }

  function setMode(m) {
    mode = m;
    init(maxCounts[mode] || 90);

    // Prepare lens flares for summer
    flares = [];
    if (mode === 'summer') {
      const n = 2 + Math.floor(rnd(0, 2));
      for (let i = 0; i < n; i++) {
        flares.push({
          x: rnd(0, logicalW),
          y: rnd(0, logicalH * 0.6),
          r: rnd(120, 240),
          t: rnd(0, Math.PI * 2),
          speed: rnd(0.0002, 0.0005)
        });
      }
    }
  }

  function addRipple(x, y) {
    ripples.push({ x, y, r: 2, alpha: 0.35 });
  }

  function drawFlare(f) {
    const cx = f.x + Math.cos(f.t) * 120;
    const cy = f.y + Math.sin(f.t) * 60;
    const g = ctx.createRadialGradient(cx, cy, 0, cx, cy, f.r);
    g.addColorStop(0, 'rgba(255,255,255,0.35)');
    g.addColorStop(0.35, 'rgba(255,220,180,0.22)');
    g.addColorStop(1, 'rgba(255,200,120,0.0)');
    ctx.globalCompositeOperation = 'screen';
    ctx.fillStyle = g;
    ctx.beginPath();
    ctx.arc(cx, cy, f.r, 0, Math.PI * 2);
    ctx.fill();
    ctx.globalCompositeOperation = 'source-over';
    f.t += f.speed * (prefersReduced ? 0 : 1);
  }

  function step(now) {
    const dt = Math.min(40, now - last);
    last = now;

    if (!running) {
      rafId = null;
      return; // stop scheduling more frames when paused
    }

    ctx.clearRect(0, 0, logicalW, logicalH);

    // Flares layer for summer
    if (mode === 'summer' && flares.length) {
      for (const f of flares) drawFlare(f);
    }

    for (const p of parts) {
      // Mouse wind interaction
      const dx = (p.x - mouse.x), dy = (p.y - mouse.y);
      const dist = Math.hypot(dx, dy) || 1;
      const influence = particlesToggle.checked && !prefersReduced ? Math.max(0, 1 - dist / 180) : 0;
      p.vx += (-dx / dist) * 0.04 * influence + (mouse.vx * 0.002 * influence);
      p.vy += (-dy / dist) * 0.02 * influence + (mouse.vy * 0.002 * influence);

      // Season forces
      if (mode === 'spring') {
        p.vx += Math.sin(p.ang * 0.7 + now * 0.0005) * 0.01;
        p.vy += 0.006 * (dt / 16);
        p.ang += p.spin * 0.01;
      } else if (mode === 'summer') {
        p.vx += Math.sin((p.y / logicalH * 6) + now * 0.0008) * 0.02;
        p.vy += 0.002 * (dt / 16);
      } else if (mode === 'monsoon') {
        p.vx += Math.sin(now * 0.001 + (p.x / logicalW) * 12) * 0.06;
        p.vy += 0.02 * (dt / 16);
      } else if (mode === 'autumn') {
        p.vx += Math.sin((p.y / logicalH * 8) + p.ang) * 0.035;
        p.vy += 0.008 * (dt / 16);
        p.ang += p.spin * 0.018;
      } else if (mode === 'prewinter') {
        if (p.type === 'mist') {
          p.vx += 0.004;
        } else {
          p.vy += 0.004 * (dt / 16);
        }
      } else if (mode === 'winter') {
        if (p.type === 'ember') {
          p.vy -= 0.006 * (dt / 16);
        } else {
          p.vy += 0.004 * (dt / 16);
        }
        p.vx += Math.sin(now * 0.0006 + p.y * 0.02) * 0.006;
      }

      // Damping and integration
      p.vx *= 0.995;
      p.vy *= 0.997;
      p.x += p.vx * (dt / 16) * p.z;
      p.y += p.vy * (dt / 16) * p.z;

      // Draw
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.globalAlpha = p.alpha;

      if (p.type === 'petal') {
        ctx.rotate(p.ang);
        ctx.beginPath();
        const r = p.r;
        ctx.moveTo(0, -r / 2);
        ctx.quadraticCurveTo(r * 1.2, -r * 1.4, r, r * 1.4);
        ctx.quadraticCurveTo(0, r, -r, r * 1.4);
        ctx.quadraticCurveTo(-r * 1.2, -r * 1.4, 0, -r / 2);
        ctx.fillStyle = p.color;
        ctx.fill();
      } else if (p.type === 'dust') {
        ctx.beginPath();
        ctx.arc(0, 0, p.r, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.fill();
        ctx.globalAlpha = p.alpha * 0.08;
        ctx.beginPath();
        ctx.arc(0, 0, p.r * 2.8, 0, Math.PI * 2);
        ctx.fill();
        ctx.globalAlpha = p.alpha;
      } else if (p.type === 'leaf') {
        ctx.rotate(Math.sin(p.ang) * 0.6);
        const img = Math.random() < 0.5 ? images.leaf1 : images.leaf2;
        if (img) {
          ctx.drawImage(img, -p.r, -p.r, p.r * 2, p.r * 2);
        } else {
          ctx.beginPath();
          ctx.moveTo(0, -p.r / 2);
          ctx.bezierCurveTo(p.r * 1.2, -p.r, p.r * 1.1, p.r, 0, p.r * 1.2);
          ctx.bezierCurveTo(-p.r * 1.1, p.r, -p.r * 1.2, -p.r, 0, -p.r / 2);
          ctx.fillStyle = p.color;
          ctx.fill();
        }
      } else if (p.type === 'rain') {
        ctx.beginPath();
        ctx.moveTo(0, -p.r * 6);
        ctx.lineTo(p.vx * -6, p.r * 6);
        ctx.lineWidth = Math.max(1, p.r * 0.8);
        const g = ctx.createLinearGradient(0, -p.r * 6, 0, p.r * 6);
        g.addColorStop(0, 'rgba(255,255,255,0.85)');
        g.addColorStop(1, p.color);
        ctx.strokeStyle = g;
        ctx.stroke();
        if (p.y > logicalH - 2) {
          addRipple(p.x, logicalH - 3);
        }
      } else if (p.type === 'mist') {
        const g = ctx.createRadialGradient(0, 0, p.r * 0.1, 0, 0, p.r);
        g.addColorStop(0, 'rgba(255,255,255,0.08)');
        g.addColorStop(1, 'rgba(255,255,255,0.0)');
        ctx.fillStyle = g;
        ctx.beginPath();
        ctx.arc(0, 0, p.r, 0, Math.PI * 2);
        ctx.fill();
      } else if (p.type === 'dewdrop') {
        ctx.beginPath();
        ctx.arc(0, 0, p.r, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.fill();
        ctx.globalAlpha = 0.2;
        ctx.beginPath();
        ctx.arc(-p.r * 0.3, -p.r * 0.4, p.r * 0.5, 0, Math.PI * 2);
        ctx.fill();
        ctx.globalAlpha = p.alpha;
      } else if (p.type === 'snow') {
        ctx.beginPath();
        ctx.arc(0, 0, p.r, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.fill();
      } else if (p.type === 'ember') {
        const g = ctx.createRadialGradient(0, 0, 0, 0, 0, p.r * 3);
        g.addColorStop(0, 'rgba(255,160,90,0.9)');
        g.addColorStop(1, 'rgba(255,120,60,0)');
        ctx.fillStyle = g;
        ctx.beginPath();
        ctx.arc(0, 0, p.r * 3, 0, Math.PI * 2);
        ctx.fill();
      } else {
        ctx.beginPath();
        ctx.arc(0, 0, p.r, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.fill();
      }
      ctx.restore();

      // Recycle particles that go off-screen
      if (p.y > logicalH + 80 || p.x < -140 || p.x > logicalW + 140 || p.y < -140) {
        const idx = parts.indexOf(p);
        parts[idx] = newParticle();
        parts[idx].x = Math.random() * logicalW;
        parts[idx].y = -10 - Math.random() * 40;
      }
    }

    // Draw ripples (monsoon)
    for (let i = ripples.length - 1; i >= 0; i--) {
      const rp = ripples[i];
      ctx.beginPath();
      ctx.arc(rp.x, rp.y, rp.r, 0, Math.PI * 2);
      ctx.strokeStyle = `rgba(180,210,240,${rp.alpha})`;
      ctx.lineWidth = 1;
      ctx.stroke();
      rp.r += 0.9;
      rp.alpha -= 0.015;
      if (rp.alpha <= 0) ripples.splice(i, 1);
    }

    // schedule next frame
    rafId = requestAnimationFrame(step);
  }

  function pause() {
    running = false;
    if (rafId) {
      cancelAnimationFrame(rafId);
      rafId = null;
    }
    ctx.clearRect(0, 0, logicalW, logicalH);
  }

  function resume() {
    if (!prefersReduced && !running) {
      running = true;
      last = performance.now();
      rafId = requestAnimationFrame(step);
    }
  }

  setMode(mode);
  rafId = requestAnimationFrame(step);

  return { setMode, pause, resume, reflow };
}

let activeSeason = localStorage.getItem('greet_season') || 'prewinter';
const Particle = createParticleEngine(activeSeason);
window.Particle = Particle;

// ===============================
// SEASON SELECTOR FUNCTIONS
// ===============================
function updateSeasonSelector(season) {
  document.querySelectorAll('.season-option').forEach(option => {
    if (option.dataset.season === season) {
      option.classList.add('active');
    } else {
      option.classList.remove('active');
    }
  });
  seasonNameEl.textContent = SEASON_LABELS[season] || 'Season';
}

// Add click handlers to season options
document.querySelectorAll('.season-option').forEach(option => {
  option.addEventListener('click', () => {
    setSeason(option.dataset.season);
  });
});

// ===============================
// SEASON STATE MANAGEMENT
// ===============================
function setSeason(s) {
  activeSeason = s;
  const emojis = {
    spring: '🌸', summer: '☀️', monsoon: '🌧️', 
    autumn: '🍂', winter: '❄️', prewinter: '☃'
  };
  
  seasonBtn.textContent = emojis[s] || '☀️';
  seasonNameEl.textContent = SEASON_LABELS[s] || 'Season';
  document.body.className = s;
  localStorage.setItem('greet_season', s);
  
  if (Particle && Particle.setMode) Particle.setMode(s);
  updateSeasonSelector(s);
}

seasonBtn.addEventListener('click', () => {
  const idx = SEASONS.indexOf(activeSeason);
  setSeason(SEASONS[(idx + 1) % SEASONS.length]);
});

setSeason(activeSeason);

// ===============================
// SETTINGS PANEL FUNCTIONALITY
// ===============================
settingsToggle.addEventListener('click', () => {
  settingsPanel.classList.toggle('open');
});

nameInput.value = localStorage.getItem('greet_name') || 'Div';
nameInput.addEventListener('input', (e) => {
  localStorage.setItem('greet_name', e.target.value || 'Friend');
  updateClock();
});

particlesToggle.checked = localStorage.getItem('particles_on') !== 'off';
particlesToggle.addEventListener('change', () => {
  localStorage.setItem('particles_on', particlesToggle.checked ? 'on' : 'off');
  if (!particlesToggle.checked) {
    Particle.pause();
    ctx.clearRect(0, 0, logicalW, logicalH);
  } else {
    Particle.resume();
  }
});

soundToggle.checked = localStorage.getItem('tick_sound') === 'on';
soundToggle.addEventListener('change', () => {
  localStorage.setItem('tick_sound', soundToggle.checked ? 'on' : 'off');
});

// Honor persisted toggles at load
if (localStorage.getItem('particles_on') === 'off') {
  Particle.pause();
}
if (localStorage.getItem('tick_sound') === 'on') {
  soundToggle.checked = true;
}

// ===============================
// INITIALIZE SEASON UI
// ===============================
seasonNameEl.textContent = SEASON_LABELS[activeSeason] || 'Season';
updateSeasonSelector(activeSeason);
</script>
</body>
</html>